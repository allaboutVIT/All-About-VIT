!function(d){if("object"==typeof exports&&"undefined"!=typeof module){module.exports=d()}else{if("function"==typeof define&&define.amd){define([],d)}else{var c;c="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,c.io=d()}}}(function(){var d;return function c(b,l,k){function j(n,m){if(!l[n]){if(!b[n]){var f="function"==typeof require&&require;if(!m&&f){return f(n,!0)}if(i){return i(n,!0)}var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}var a=l[n]={exports:{}};b[n][0].call(a.exports,function(g){var o=b[n][1][g];return j(o?o:g)},a,a.exports,c,b,l,k)}return l[n].exports}for(var i="function"==typeof require&&require,h=0;h<k.length;h++){j(k[h])}return j}({1:[function(f,e,g){e.exports=f("./lib/")},{"./lib/":2}],2:[function(f,e,g){e.exports=f("./socket"),e.exports.parser=f("engine.io-parser")},{"./socket":3,"engine.io-parser":19}],3:[function(f,e,g){(function(v){function u(i,h){if(!(this instanceof u)){return new u(i,h)}h=h||{},i&&"object"==typeof i&&(h=i,i=null),i?(i=n(i),h.hostname=i.host,h.secure="https"==i.protocol||"wss"==i.protocol,h.port=i.port,i.query&&(h.query=i.query)):h.host&&(h.hostname=n(h.host).host),this.secure=null!=h.secure?h.secure:v.location&&"https:"==location.protocol,h.hostname&&!h.port&&(h.port=this.secure?"443":"80"),this.agent=h.agent||!1,this.hostname=h.hostname||(v.location?location.hostname:"localhost"),this.port=h.port||(v.location&&location.port?location.port:this.secure?443:80),this.query=h.query||{},"string"==typeof this.query&&(this.query=a.decode(this.query)),this.upgrade=!1!==h.upgrade,this.path=(h.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!h.forceJSONP,this.jsonp=!1!==h.jsonp,this.forceBase64=!!h.forceBase64,this.enablesXDR=!!h.enablesXDR,this.timestampParam=h.timestampParam||"t",this.timestampRequests=h.timestampRequests,this.transports=h.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.policyPort=h.policyPort||843,this.rememberUpgrade=h.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=h.onlyBinaryUpgrades,this.perMessageDeflate=!1!==h.perMessageDeflate?h.perMessageDeflate||{}:!1,!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=h.pfx||null,this.key=h.key||null,this.passphrase=h.passphrase||null,this.cert=h.cert||null,this.ca=h.ca||null,this.ciphers=h.ciphers||null,this.rejectUnauthorized=void 0===h.rejectUnauthorized?null:h.rejectUnauthorized;var j="object"==typeof v&&v;j.global===j&&h.extraHeaders&&Object.keys(h.extraHeaders).length>0&&(this.extraHeaders=h.extraHeaders),this.open()}function t(i){var h={};for(var j in i){i.hasOwnProperty(j)&&(h[j]=i[j])}return h}var s=f("./transports"),r=f("component-emitter"),q=f("debug")("engine.io-client:socket"),p=f("indexof"),o=f("engine.io-parser"),n=f("parseuri"),b=f("parsejson"),a=f("parseqs");e.exports=u,u.priorWebsocketSuccess=!1,r(u.prototype),u.protocol=o.protocol,u.Socket=u,u.Transport=f("./transport"),u.transports=f("./transports"),u.parser=f("engine.io-parser"),u.prototype.createTransport=function(i){q('creating transport "%s"',i);var h=t(this.query);h.EIO=o.protocol,h.transport=i,this.id&&(h.sid=this.id);var j=new s[i]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:h,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders});return j},u.prototype.open=function(){var i;if(this.rememberUpgrade&&u.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket")){i="websocket"}else{if(0===this.transports.length){var h=this;return void setTimeout(function(){h.emit("error","No transports available")},0)}i=this.transports[0]}this.readyState="opening";try{i=this.createTransport(i)}catch(j){return this.transports.shift(),void this.open()}i.open(),this.setTransport(i)},u.prototype.setTransport=function(i){q("setting transport %s",i.name);var h=this;this.transport&&(q("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=i,i.on("drain",function(){h.onDrain()}).on("packet",function(j){h.onPacket(j)}).on("error",function(j){h.onError(j)}).on("close",function(){h.onClose("transport close")})},u.prototype.probe=function(F){function E(){if(h.onlyBinaryUpgrades){var i=!this.supportsBinary&&h.transport.supportsBinary;w=w||i}w||(q('probe transport "%s" opened',F),x.send([{type:"ping",data:"probe"}]),x.once("packet",function(j){if(!w){if("pong"==j.type&&"probe"==j.data){if(q('probe transport "%s" pong',F),h.upgrading=!0,h.emit("upgrading",x),!x){return}u.priorWebsocketSuccess="websocket"==x.name,q('pausing current transport "%s"',h.transport.name),h.transport.pause(function(){w||"closed"!=h.readyState&&(q("changing transport and sending upgrade packet"),y(),h.setTransport(x),x.send([{type:"upgrade"}]),h.emit("upgrade",x),x=null,h.upgrading=!1,h.flush())})}else{q('probe transport "%s" failed',F);var k=new Error("probe error");k.transport=x.name,h.emit("upgradeError",k)}}}))}function D(){w||(w=!0,y(),x.close(),x=null)}function C(i){var j=new Error("probe error: "+i);j.transport=x.name,D(),q('probe transport "%s" failed because of error: %s',F,i),h.emit("upgradeError",j)}function B(){C("transport closed")}function A(){C("socket closed")}function z(i){x&&i.name!=x.name&&(q('"%s" works - aborting "%s"',i.name,x.name),D())}function y(){x.removeListener("open",E),x.removeListener("error",C),x.removeListener("close",B),h.removeListener("close",A),h.removeListener("upgrading",z)}q('probing transport "%s"',F);var x=this.createTransport(F,{probe:1}),w=!1,h=this;u.priorWebsocketSuccess=!1,x.once("open",E),x.once("error",C),x.once("close",B),this.once("close",A),this.once("upgrading",z),x.open()},u.prototype.onOpen=function(){if(q("socket open"),this.readyState="open",u.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){q("starting upgrade probes");for(var i=0,h=this.upgrades.length;h>i;i++){this.probe(this.upgrades[i])}}},u.prototype.onPacket=function(i){if("opening"==this.readyState||"open"==this.readyState){switch(q('socket receive: type "%s", data "%s"',i.type,i.data),this.emit("packet",i),this.emit("heartbeat"),i.type){case"open":this.onHandshake(b(i.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var h=new Error("server error");h.code=i.data,this.onError(h);break;case"message":this.emit("data",i.data),this.emit("message",i.data)}}else{q('packet received with socket readyState "%s"',this.readyState)}},u.prototype.onHandshake=function(h){this.emit("handshake",h),this.id=h.sid,this.transport.query.sid=h.sid,this.upgrades=this.filterUpgrades(h.upgrades),this.pingInterval=h.pingInterval,this.pingTimeout=h.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},u.prototype.onHeartbeat=function(i){clearTimeout(this.pingTimeoutTimer);var h=this;h.pingTimeoutTimer=setTimeout(function(){"closed"!=h.readyState&&h.onClose("ping timeout")},i||h.pingInterval+h.pingTimeout)},u.prototype.setPing=function(){var h=this;clearTimeout(h.pingIntervalTimer),h.pingIntervalTimer=setTimeout(function(){q("writing ping packet - expecting pong within %sms",h.pingTimeout),h.ping(),h.onHeartbeat(h.pingTimeout)},h.pingInterval)},u.prototype.ping=function(){var h=this;this.sendPacket("ping",function(){h.emit("ping")})},u.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},u.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(q("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},u.prototype.write=u.prototype.send=function(i,h,j){return this.sendPacket("message",i,h,j),this},u.prototype.sendPacket=function(i,h,l,k){if("function"==typeof h&&(k=h,h=void 0),"function"==typeof l&&(k=l,l=null),"closing"!=this.readyState&&"closed"!=this.readyState){l=l||{},l.compress=!1!==l.compress;var j={type:i,data:h,options:l};this.emit("packetCreate",j),this.writeBuffer.push(j),k&&this.once("flush",k),this.flush()}},u.prototype.close=function(){function i(){j.onClose("forced close"),q("socket closing - telling transport to close"),j.transport.close()}function h(){j.removeListener("upgrade",h),j.removeListener("upgradeError",h),i()}function k(){j.once("upgrade",h),j.once("upgradeError",h)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var j=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?k():i()}):this.upgrading?k():i()}return this},u.prototype.onError=function(h){q("socket error %j",h),u.priorWebsocketSuccess=!1,this.emit("error",h),this.onClose("transport error",h)},u.prototype.onClose=function(i,h){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){q('socket close with reason: "%s"',i);var j=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",i,h),j.writeBuffer=[],j.prevBufferLen=0}},u.prototype.filterUpgrades=function(i){for(var h=[],k=0,j=i.length;j>k;k++){~p(this.transports,i[k])&&h.push(i[k])}return h}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./transport":4,"./transports":5,"component-emitter":15,debug:17,"engine.io-parser":19,indexof:23,parsejson:26,parseqs:27,parseuri:28}],4:[function(h,g,l){function k(b){this.path=b.path,this.hostname=b.hostname,this.port=b.port,this.secure=b.secure,this.query=b.query,this.timestampParam=b.timestampParam,this.timestampRequests=b.timestampRequests,this.readyState="",this.agent=b.agent||!1,this.socket=b.socket,this.enablesXDR=b.enablesXDR,this.pfx=b.pfx,this.key=b.key,this.passphrase=b.passphrase,this.cert=b.cert,this.ca=b.ca,this.ciphers=b.ciphers,this.rejectUnauthorized=b.rejectUnauthorized,this.extraHeaders=b.extraHeaders}var j=h("engine.io-parser"),i=h("component-emitter");g.exports=k,i(k.prototype),k.prototype.onError=function(f,e){var m=new Error(f);return m.type="TransportError",m.description=e,this.emit("error",m),this},k.prototype.open=function(){return("closed"==this.readyState||""==this.readyState)&&(this.readyState="opening",this.doOpen()),this},k.prototype.close=function(){return("opening"==this.readyState||"open"==this.readyState)&&(this.doClose(),this.onClose()),this},k.prototype.send=function(b){if("open"!=this.readyState){throw new Error("Transport not open")}this.write(b)},k.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},k.prototype.onData=function(f){var e=j.decodePacket(f,this.socket.binaryType);this.onPacket(e)},k.prototype.onPacket=function(b){this.emit("packet",b)},k.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":15,"engine.io-parser":19}],5:[function(f,e,g){(function(a){function m(b){var s,r=!1,q=!1,p=!1!==b.jsonp;if(a.location){var o="https:"==location.protocol,n=location.port;n||(n=o?443:80),r=b.hostname!=location.hostname||n!=b.port,q=b.secure!=o}if(b.xdomain=r,b.xscheme=q,s=new l(b),"open" in s&&!b.forceJSONP){return new k(b)}if(!p){throw new Error("JSONP disabled")}return new j(b)}var l=f("xmlhttprequest-ssl"),k=f("./polling-xhr"),j=f("./polling-jsonp"),i=f("./websocket");g.polling=m,g.websocket=i}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling-jsonp":6,"./polling-xhr":7,"./websocket":9,"xmlhttprequest-ssl":10}],6:[function(f,e,g){(function(p){function o(){}function n(i){m.call(this,i),this.query=this.query||{},k||(p.___eio||(p.___eio=[]),k=p.___eio),this.index=k.length;var h=this;k.push(function(j){h.onData(j)}),this.query.j=this.index,p.document&&p.addEventListener&&p.addEventListener("beforeunload",function(){h.script&&(h.script.onerror=o)},!1)}var m=f("./polling"),l=f("component-inherit");e.exports=n;var k,b=/\n/g,a=/\\n/g;l(n,m),n.prototype.supportsBinary=!1,n.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),m.prototype.doClose.call(this)},n.prototype.doPoll=function(){var i=this,h=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),h.async=!0,h.src=this.uri(),h.onerror=function(r){i.onError("jsonp poll error",r)};var q=document.getElementsByTagName("script")[0];q?q.parentNode.insertBefore(h,q):(document.head||document.body).appendChild(h),this.script=h;var j="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);j&&setTimeout(function(){var r=document.createElement("iframe");document.body.appendChild(r),document.body.removeChild(r)},100)},n.prototype.doWrite=function(x,w){function v(){u(),w()}function u(){if(t.iframe){try{t.form.removeChild(t.iframe)}catch(y){t.onError("jsonp polling iframe removal error",y)}}try{var h='<iframe src="javascript:0" name="'+t.iframeId+'">';s=document.createElement(h)}catch(y){s=document.createElement("iframe"),s.name=t.iframeId,s.src="javascript:0"}s.id=t.iframeId,t.form.appendChild(s),t.iframe=s}var t=this;if(!this.form){var s,r=document.createElement("form"),q=document.createElement("textarea"),j=this.iframeId="eio_iframe_"+this.index;r.className="socketio",r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",r.target=j,r.method="POST",r.setAttribute("accept-charset","utf-8"),q.name="d",r.appendChild(q),document.body.appendChild(r),this.form=r,this.area=q}this.form.action=this.uri(),u(),x=x.replace(a,"\\\n"),this.area.value=x.replace(b,"\\n");try{this.form.submit()}catch(i){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==t.iframe.readyState&&v()}:this.iframe.onload=v}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling":8,"component-inherit":16}],7:[function(f,e,g){(function(t){function s(){}function r(i){if(n.call(this,i),t.location){var h="https:"==location.protocol,j=location.port;j||(j=h?443:80),this.xd=i.hostname!=t.location.hostname||j!=i.port,this.xs=i.secure!=h}else{this.extraHeaders=i.extraHeaders}}function q(h){this.method=h.method||"GET",this.uri=h.uri,this.xd=!!h.xd,this.xs=!!h.xs,this.async=!1!==h.async,this.data=void 0!=h.data?h.data:null,this.agent=h.agent,this.isBinary=h.isBinary,this.supportsBinary=h.supportsBinary,this.enablesXDR=h.enablesXDR,this.pfx=h.pfx,this.key=h.key,this.passphrase=h.passphrase,this.cert=h.cert,this.ca=h.ca,this.ciphers=h.ciphers,this.rejectUnauthorized=h.rejectUnauthorized,this.extraHeaders=h.extraHeaders,this.create()}function p(){for(var h in q.requests){q.requests.hasOwnProperty(h)&&q.requests[h].abort()}}var o=f("xmlhttprequest-ssl"),n=f("./polling"),m=f("component-emitter"),b=f("component-inherit"),a=f("debug")("engine.io-client:polling-xhr");e.exports=r,e.exports.Request=q,b(r,n),r.prototype.supportsBinary=!0,r.prototype.request=function(h){return h=h||{},h.uri=this.uri(),h.xd=this.xd,h.xs=this.xs,h.agent=this.agent||!1,h.supportsBinary=this.supportsBinary,h.enablesXDR=this.enablesXDR,h.pfx=this.pfx,h.key=this.key,h.passphrase=this.passphrase,h.cert=this.cert,h.ca=this.ca,h.ciphers=this.ciphers,h.rejectUnauthorized=this.rejectUnauthorized,h.extraHeaders=this.extraHeaders,new q(h)},r.prototype.doWrite=function(i,h){var l="string"!=typeof i&&void 0!==i,k=this.request({method:"POST",data:i,isBinary:l}),j=this;k.on("success",h),k.on("error",function(u){j.onError("xhr post error",u)}),this.sendXhr=k},r.prototype.doPoll=function(){a("xhr poll");var i=this.request(),h=this;i.on("data",function(j){h.onData(j)}),i.on("error",function(j){h.onError("xhr poll error",j)}),this.pollXhr=i},m(q.prototype),q.prototype.create=function(){var i={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};i.pfx=this.pfx,i.key=this.key,i.passphrase=this.passphrase,i.cert=this.cert,i.ca=this.ca,i.ciphers=this.ciphers,i.rejectUnauthorized=this.rejectUnauthorized;var h=this.xhr=new o(i),l=this;try{a("xhr open %s: %s",this.method,this.uri),h.open(this.method,this.uri,this.async);try{if(this.extraHeaders){h.setDisableHeaderCheck(!0);for(var k in this.extraHeaders){this.extraHeaders.hasOwnProperty(k)&&h.setRequestHeader(k,this.extraHeaders[k])}}}catch(j){}if(this.supportsBinary&&(h.responseType="arraybuffer"),"POST"==this.method){try{this.isBinary?h.setRequestHeader("Content-type","application/octet-stream"):h.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(j){}}"withCredentials" in h&&(h.withCredentials=!0),this.hasXDR()?(h.onload=function(){l.onLoad()},h.onerror=function(){l.onError(h.responseText)}):h.onreadystatechange=function(){4==h.readyState&&(200==h.status||1223==h.status?l.onLoad():setTimeout(function(){l.onError(h.status)},0))},a("xhr data %s",this.data),h.send(this.data)}catch(j){return void setTimeout(function(){l.onError(j)},0)}t.document&&(this.index=q.requestsCount++,q.requests[this.index]=this)},q.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},q.prototype.onData=function(h){this.emit("data",h),this.onSuccess()},q.prototype.onError=function(h){this.emit("error",h),this.cleanup(!0)},q.prototype.cleanup=function(i){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=s:this.xhr.onreadystatechange=s,i){try{this.xhr.abort()}catch(h){}}t.document&&delete q.requests[this.index],this.xhr=null}},q.prototype.onLoad=function(){var i;try{var h;try{h=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(v){}if("application/octet-stream"===h){i=this.xhr.response}else{if(this.supportsBinary){try{i=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(v){for(var u=new Uint8Array(this.xhr.response),l=[],k=0,j=u.length;j>k;k++){l.push(u[k])}i=String.fromCharCode.apply(null,l)}}else{i=this.xhr.responseText}}}catch(v){this.onError(v)}null!=i&&this.onData(i)},q.prototype.hasXDR=function(){return"undefined"!=typeof t.XDomainRequest&&!this.xs&&this.enablesXDR},q.prototype.abort=function(){this.cleanup()},t.document&&(q.requestsCount=0,q.requests={},t.attachEvent?t.attachEvent("onunload",p):t.addEventListener&&t.addEventListener("beforeunload",p,!1))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling":8,"component-emitter":15,"component-inherit":16,debug:17,"xmlhttprequest-ssl":10}],8:[function(v,u,t){function s(f){var e=f&&f.forceBase64;(!l||e)&&(this.supportsBinary=!1),r.call(this,f)}var r=v("../transport"),q=v("parseqs"),p=v("engine.io-parser"),o=v("component-inherit"),n=v("yeast"),m=v("debug")("engine.io-client:polling");u.exports=s;var l=function(){var a=v("xmlhttprequest-ssl"),e=new a({xdomain:!1});return null!=e.responseType}();o(s,r),s.prototype.name="polling",s.prototype.doOpen=function(){this.poll()},s.prototype.pause=function(f){function e(){m("paused"),h.readyState="paused",f()}var h=this;if(this.readyState="pausing",this.polling||!this.writable){var g=0;this.polling&&(m("we are currently polling - waiting to pause"),g++,this.once("pollComplete",function(){m("pre-pause polling complete"),--g||e()})),this.writable||(m("we are currently writing - waiting to pause"),g++,this.once("drain",function(){m("pre-pause writing complete"),--g||e()}))}else{e()}},s.prototype.poll=function(){m("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},s.prototype.onData=function(f){var e=this;m("polling got data %s",f);var g=function(b,i,h){return"opening"==e.readyState&&e.onOpen(),"close"==b.type?(e.onClose(),!1):void e.onPacket(b)};p.decodePayload(f,this.socket.binaryType,g),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():m('ignoring poll - transport state "%s"',this.readyState))},s.prototype.doClose=function(){function f(){m("writing close packet"),e.write([{type:"close"}])}var e=this;"open"==this.readyState?(m("transport open - closing"),f()):(m("transport not open - deferring close"),this.once("open",f))},s.prototype.write=function(f){var e=this;this.writable=!1;var g=function(){e.writable=!0,e.emit("drain")},e=this;p.encodePayload(f,this.supportsBinary,function(b){e.doWrite(b,g)})},s.prototype.uri=function(){var f=this.query||{},e=this.secure?"https":"http",h="";!1!==this.timestampRequests&&(f[this.timestampParam]=n()),this.supportsBinary||f.sid||(f.b64=1),f=q.encode(f),this.port&&("https"==e&&443!=this.port||"http"==e&&80!=this.port)&&(h=":"+this.port),f.length&&(f="?"+f);var g=-1!==this.hostname.indexOf(":");return e+"://"+(g?"["+this.hostname+"]":this.hostname)+h+this.path+f}},{"../transport":4,"component-inherit":16,debug:17,"engine.io-parser":19,parseqs:27,"xmlhttprequest-ssl":10,yeast:30}],9:[function(f,e,g){(function(t){function s(i){var h=i&&i.forceBase64;h&&(this.supportsBinary=!1),this.perMessageDeflate=i.perMessageDeflate,r.call(this,i)}var r=f("../transport"),q=f("engine.io-parser"),p=f("parseqs"),o=f("component-inherit"),n=f("yeast"),m=f("debug")("engine.io-client:websocket"),b=t.WebSocket||t.MozWebSocket,a=b||("undefined"!=typeof window?null:f("ws"));e.exports=s,o(s,r),s.prototype.name="websocket",s.prototype.supportsBinary=!0,s.prototype.doOpen=function(){if(this.check()){var i=this.uri(),h=void 0,j={agent:this.agent,perMessageDeflate:this.perMessageDeflate};j.pfx=this.pfx,j.key=this.key,j.passphrase=this.passphrase,j.cert=this.cert,j.ca=this.ca,j.ciphers=this.ciphers,j.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(j.headers=this.extraHeaders),this.ws=b?new a(i):new a(i,h,j),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="buffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},s.prototype.addEventListeners=function(){var h=this;this.ws.onopen=function(){h.onOpen()},this.ws.onclose=function(){h.onClose()},this.ws.onmessage=function(i){h.onData(i.data)},this.ws.onerror=function(i){h.onError("websocket error",i)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(s.prototype.onData=function(i){var h=this;setTimeout(function(){r.prototype.onData.call(h,i)},0)}),s.prototype.write=function(j){function i(){v.emit("flush"),setTimeout(function(){v.writable=!0,v.emit("drain")},0)}var v=this;this.writable=!1;for(var u=j.length,l=0,k=u;k>l;l++){!function(h){q.encodePacket(h,v.supportsBinary,function(z){if(!b){var y={};if(h.options&&(y.compress=h.options.compress),v.perMessageDeflate){var x="string"==typeof z?t.Buffer.byteLength(z):z.length;x<v.perMessageDeflate.threshold&&(y.compress=!1)}}try{b?v.ws.send(z):v.ws.send(z,y)}catch(w){m("websocket closed before onclose event")}--u||i()})}(j[l])}},s.prototype.onClose=function(){r.prototype.onClose.call(this)},s.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},s.prototype.uri=function(){var i=this.query||{},h=this.secure?"wss":"ws",k="";this.port&&("wss"==h&&443!=this.port||"ws"==h&&80!=this.port)&&(k=":"+this.port),this.timestampRequests&&(i[this.timestampParam]=n()),this.supportsBinary||(i.b64=1),i=p.encode(i),i.length&&(i="?"+i);var j=-1!==this.hostname.indexOf(":");return h+"://"+(j?"["+this.hostname+"]":this.hostname)+k+this.path+i},s.prototype.check=function(){return !(!a||"__initialize" in a&&this.name===s.prototype.name)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"../transport":4,"component-inherit":16,debug:17,"engine.io-parser":19,parseqs:27,ws:void 0,yeast:30}],10:[function(f,e,h){var g=f("has-cors");e.exports=function(j){var i=j.xdomain,m=j.xscheme,l=j.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!i||g)){return new XMLHttpRequest}}catch(k){}try{if("undefined"!=typeof XDomainRequest&&!m&&l){return new XDomainRequest}}catch(k){}if(!i){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(k){}}}},{"has-cors":22}],11:[function(g,f,j){function i(k,e,n){function m(b,o){if(m.count<=0){throw new Error("after called too many times")}--m.count,b?(l=!0,e(b),e=n):0!==m.count||l||e(null,o)}var l=!1;return n=n||h,m.count=k,0===k?e():m}function h(){}f.exports=i},{}],12:[function(f,e,g){e.exports=function(j,i,p){var o=j.byteLength;if(i=i||0,p=p||o,j.slice){return j.slice(i,p)}if(0>i&&(i+=o),0>p&&(p+=o),p>o&&(p=o),i>=o||i>=p||0===o){return new ArrayBuffer(0)}for(var n=new Uint8Array(j),m=new Uint8Array(p-i),l=i,k=0;p>l;l++,k++){m[k]=n[l]}return m.buffer}},{}],13:[function(f,e,g){!function(b){g.encode=function(a){var k,j=new Uint8Array(a),i=j.length,h="";for(k=0;i>k;k+=3){h+=b[j[k]>>2],h+=b[(3&j[k])<<4|j[k+1]>>4],h+=b[(15&j[k+1])<<2|j[k+2]>>6],h+=b[63&j[k+2]]}return i%3===2?h=h.substring(0,h.length-1)+"=":i%3===1&&(h=h.substring(0,h.length-2)+"=="),h},g.decode=function(v){var u,t,s,r,q,p=0.75*v.length,o=v.length,n=0;"="===v[v.length-1]&&(p--,"="===v[v.length-2]&&p--);var m=new ArrayBuffer(p),a=new Uint8Array(m);for(u=0;o>u;u+=4){t=b.indexOf(v[u]),s=b.indexOf(v[u+1]),r=b.indexOf(v[u+2]),q=b.indexOf(v[u+3]),a[n++]=t<<2|s>>4,a[n++]=(15&s)<<4|r>>2,a[n++]=(3&r)<<6|63&q}return m}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],14:[function(f,e,g){(function(b){function p(i){for(var h=0;h<i.length;h++){var s=i[h];if(s.buffer instanceof ArrayBuffer){var r=s.buffer;if(s.byteLength!==r.byteLength){var q=new Uint8Array(s.byteLength);q.set(new Uint8Array(r,s.byteOffset,s.byteLength)),r=q.buffer}i[h]=r}}}function o(i,h){h=h||{};var r=new m;p(i);for(var q=0;q<i.length;q++){r.append(i[q])}return h.type?r.getBlob(h.type):r.getBlob()}function n(i,h){return p(i),new Blob(i,h||{})}var m=b.BlobBuilder||b.WebKitBlobBuilder||b.MSBlobBuilder||b.MozBlobBuilder,l=function(){try{var i=new Blob(["hi"]);return 2===i.size}catch(h){return !1}}(),k=l&&function(){try{var i=new Blob([new Uint8Array([1,2])]);return 2===i.size}catch(h){return !1}}(),j=m&&m.prototype.append&&m.prototype.getBlob;e.exports=function(){return l?k?b.Blob:n:j?o:void 0}()}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],15:[function(g,f,j){function i(b){return b?h(b):void 0}function h(k){for(var e in i.prototype){k[e]=i.prototype[e]}return k}f.exports=i,i.prototype.on=i.prototype.addEventListener=function(k,e){return this._callbacks=this._callbacks||{},(this._callbacks[k]=this._callbacks[k]||[]).push(e),this},i.prototype.once=function(k,e){function m(){l.off(k,m),e.apply(this,arguments)}var l=this;return this._callbacks=this._callbacks||{},m.fn=e,this.on(k,m),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(l,k){if(this._callbacks=this._callbacks||{},0==arguments.length){return this._callbacks={},this}var o=this._callbacks[l];if(!o){return this}if(1==arguments.length){return delete this._callbacks[l],this}for(var n,m=0;m<o.length;m++){if(n=o[m],n===k||n.fn===k){o.splice(m,1);break}}return this},i.prototype.emit=function(l){this._callbacks=this._callbacks||{};var k=[].slice.call(arguments,1),o=this._callbacks[l];if(o){o=o.slice(0);for(var n=0,m=o.length;m>n;++n){o[n].apply(this,k)}}return this},i.prototype.listeners=function(b){return this._callbacks=this._callbacks||{},this._callbacks[b]||[]},i.prototype.hasListeners=function(b){return !!this.listeners(b).length}},{}],16:[function(f,e,g){e.exports=function(i,h){var j=function(){};j.prototype=h.prototype,i.prototype=new j,i.prototype.constructor=i}},{}],17:[function(r,q,p){function o(){return"WebkitAppearance" in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function n(){var h=arguments,g=this.useColors;if(h[0]=(g?"%c":"")+this.namespace+(g?" %c":" ")+h[0]+(g?"%c ":" ")+"+"+p.humanize(this.diff),!g){return h}var t="color: "+this.color;h=[h[0],t,"color: inherit"].concat(Array.prototype.slice.call(h,1));var s=0,i=0;return h[0].replace(/%[a-z%]/g,function(b){"%%"!==b&&(s++,"%c"===b&&(i=s))}),h.splice(i,0,t),h}function m(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function l(f){try{null==f?p.storage.removeItem("debug"):p.storage.debug=f}catch(e){}}function k(){var f;try{f=p.storage.debug}catch(e){}return f}function j(){try{return window.localStorage}catch(b){}}p=q.exports=r("./debug"),p.log=m,p.formatArgs=n,p.save=l,p.load=k,p.useColors=o,p.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:j(),p.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],p.formatters.j=function(b){return JSON.stringify(b)},p.enable(k())},{"./debug":18}],18:[function(v,u,t){function s(){return t.colors[l++%t.colors.length]}function r(h){function g(){}function j(){var k=j,e=+new Date,z=e-(m||e);k.diff=z,k.prev=m,k.curr=e,m=e,null==k.useColors&&(k.useColors=t.useColors()),null==k.color&&k.useColors&&(k.color=s());var y=Array.prototype.slice.call(arguments);y[0]=t.coerce(y[0]),"string"!=typeof y[0]&&(y=["%o"].concat(y));var x=0;y[0]=y[0].replace(/%([a-z%])/g,function(a,C){if("%%"===a){return a}x++;var B=t.formatters[C];if("function"==typeof B){var A=y[x];a=B.call(k,A),y.splice(x,1),x--}return a}),"function"==typeof t.formatArgs&&(y=t.formatArgs.apply(k,y));var w=j.log||t.log||console.log.bind(console);w.apply(k,y)}g.enabled=!1,j.enabled=!0;var i=t.enabled(h)?j:g;return i.namespace=h,i}function q(g){t.save(g);for(var f=(g||"").split(/[\s,]+/),i=f.length,h=0;i>h;h++){f[h]&&(g=f[h].replace(/\*/g,".*?"),"-"===g[0]?t.skips.push(new RegExp("^"+g.substr(1)+"$")):t.names.push(new RegExp("^"+g+"$")))}}function p(){t.enable("")}function o(f){var e,g;for(e=0,g=t.skips.length;g>e;e++){if(t.skips[e].test(f)){return !1}}for(e=0,g=t.names.length;g>e;e++){if(t.names[e].test(f)){return !0}}return !1}function n(b){return b instanceof Error?b.stack||b.message:b}t=u.exports=r,t.coerce=n,t.disable=p,t.enable=q,t.enabled=o,t.humanize=v("ms"),t.names=[],t.skips=[],t.formatters={};var m,l=0},{ms:25}],19:[function(f,e,g){(function(M){function L(i,h){var j="b"+g.packets[i.type]+i.data.data;return h(j)}function K(j,i,o){if(!i){return g.encodeBase64Packet(j,o)}var n=j.data,m=new Uint8Array(n),l=new Uint8Array(1+n.byteLength);l[0]=x[j.type];for(var k=0;k<m.length;k++){l[k+1]=m[k]}return o(l.buffer)}function J(i,h,k){if(!h){return g.encodeBase64Packet(i,k)}var j=new FileReader;return j.onload=function(){i.data=j.result,g.encodePacket(i,h,!0,k)},j.readAsArrayBuffer(i.data)}function I(i,h,l){if(!h){return g.encodeBase64Packet(i,l)}if(y){return J(i,h,l)}var k=new Uint8Array(1);k[0]=x[i.type];var j=new a([k.buffer,i.data]);return l(j)}function H(i,h,n){for(var m=new Array(i.length),l=C(i.length,n),k=function(b,p,o){h(p,function(q,r){m[b]=r,o(q,m)})},j=0;j<i.length;j++){k(j,i[j],l)}}var G=f("./keys"),F=f("has-binary"),E=f("arraybuffer.slice"),D=f("base64-arraybuffer"),C=f("after"),B=f("utf8"),A=navigator.userAgent.match(/Android/i),z=/PhantomJS/i.test(navigator.userAgent),y=A||z;g.protocol=3;var x=g.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},w=G(x),v={type:"error",data:"parser error"},a=f("blob");g.encodePacket=function(b,o,n,m){"function"==typeof o&&(m=o,o=!1),"function"==typeof n&&(m=n,n=null);var l=void 0===b.data?void 0:b.data.buffer||b.data;if(M.ArrayBuffer&&l instanceof ArrayBuffer){return K(b,o,m)}if(a&&l instanceof M.Blob){return I(b,o,m)}if(l&&l.base64){return L(b,m)}var k=x[b.type];return void 0!==b.data&&(k+=n?B.encode(String(b.data)):String(b.data)),m(""+k)},g.encodeBase64Packet=function(s,r){var q="b"+g.packets[s.type];if(a&&s.data instanceof M.Blob){var p=new FileReader;return p.onload=function(){var h=p.result.split(",")[1];r(q+h)},p.readAsDataURL(s.data)}var o;try{o=String.fromCharCode.apply(null,new Uint8Array(s.data))}catch(n){for(var m=new Uint8Array(s.data),l=new Array(m.length),b=0;b<m.length;b++){l[b]=m[b]}o=String.fromCharCode.apply(null,l)}return q+=M.btoa(o),r(q)},g.decodePacket=function(j,i,o){if("string"==typeof j||void 0===j){if("b"==j.charAt(0)){return g.decodeBase64Packet(j.substr(1),i)}if(o){try{j=B.decode(j)}catch(n){return v}}var m=j.charAt(0);return Number(m)==m&&w[m]?j.length>1?{type:w[m],data:j.substring(1)}:{type:w[m]}:v}var l=new Uint8Array(j),m=l[0],k=E(j,1);return a&&"blob"===i&&(k=new a([k])),{type:w[m],data:k}},g.decodeBase64Packet=function(b,j){var i=w[b.charAt(0)];if(!M.ArrayBuffer){return{type:i,data:{base64:!0,data:b.substr(1)}}}var h=D.decode(b.substr(1));return"blob"===j&&a&&(h=new a([h])),{type:i,data:h}},g.encodePayload=function(i,h,m){function l(b){return b.length+":"+b}function k(b,n){g.encodePacket(b,j?h:!1,!0,function(o){n(null,l(o))})}"function"==typeof h&&(m=h,h=null);var j=F(i);return h&&j?a&&!y?g.encodePayloadAsBlob(i,m):g.encodePayloadAsArrayBuffer(i,m):i.length?void H(i,k,function(o,n){return m(n.join(""))}):m("0:")},g.decodePayload=function(O,N,u){if("string"!=typeof O){return g.decodePayloadAsBinary(O,N,u)}"function"==typeof N&&(u=N,N=null);var t;if(""==O){return u(v,0,1)}for(var s,r,q="",p=0,o=O.length;o>p;p++){var n=O.charAt(p);if(":"!=n){q+=n}else{if(""==q||q!=(s=Number(q))){return u(v,0,1)}if(r=O.substr(p+1,s),q!=r.length){return u(v,0,1)}if(r.length){if(t=g.decodePacket(r,N,!0),v.type==t.type&&v.data==t.data){return u(v,0,1)}var m=u(t,p+s,o);if(!1===m){return}}p+=s,q=""}}return""!=q?u(v,0,1):void 0},g.encodePayloadAsArrayBuffer=function(i,h){function j(l,k){g.encodePacket(l,!0,!0,function(b){return k(null,b)})}return i.length?void H(i,j,function(b,n){var m=n.reduce(function(p,o){var q;return q="string"==typeof o?o.length:o.byteLength,p+q.toString().length+q+2},0),l=new Uint8Array(m),k=0;return n.forEach(function(p){var o="string"==typeof p,t=p;if(o){for(var s=new Uint8Array(p.length),r=0;r<p.length;r++){s[r]=p.charCodeAt(r)}t=s.buffer}o?l[k++]=0:l[k++]=1;for(var q=t.byteLength.toString(),r=0;r<q.length;r++){l[k++]=parseInt(q[r])}l[k++]=255;for(var s=new Uint8Array(t),r=0;r<s.length;r++){l[k++]=s[r]}}),h(l.buffer)}):h(new ArrayBuffer(0))},g.encodePayloadAsBlob=function(i,h){function j(l,k){g.encodePacket(l,!0,!0,function(b){var s=new Uint8Array(1);if(s[0]=1,"string"==typeof b){for(var r=new Uint8Array(b.length),q=0;q<b.length;q++){r[q]=b.charCodeAt(q)}b=r.buffer,s[0]=0}for(var p=b instanceof ArrayBuffer?b.byteLength:b.size,o=p.toString(),n=new Uint8Array(o.length+1),q=0;q<o.length;q++){n[q]=parseInt(o[q])}if(n[o.length]=255,a){var m=new a([s.buffer,n.buffer,b]);k(null,m)}})}H(i,j,function(b,k){return h(new a(k))})},g.decodePayloadAsBinary=function(U,T,S){"function"==typeof T&&(S=T,T=null);for(var R=U,Q=[],P=!1;R.byteLength>0;){for(var O=new Uint8Array(R),N=0===O[0],u="",t=1;255!=O[t];t++){if(u.length>310){P=!0;break}u+=O[t]}if(P){return S(v,0,1)}R=E(R,2+u.length),u=parseInt(u);var s=E(R,0,u);if(N){try{s=String.fromCharCode.apply(null,new Uint8Array(s))}catch(r){var q=new Uint8Array(s);s="";for(var t=0;t<q.length;t++){s+=String.fromCharCode(q[t])}}}Q.push(s),R=E(R,u)}var k=Q.length;Q.forEach(function(b,h){S(g.decodePacket(b,T,!0),h,k)})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./keys":20,after:11,"arraybuffer.slice":12,"base64-arraybuffer":13,blob:14,"has-binary":21,utf8:29}],20:[function(f,e,g){e.exports=Object.keys||function(i){var h=[],k=Object.prototype.hasOwnProperty;for(var j in i){k.call(i,j)&&h.push(j)}return h}},{}],21:[function(f,e,g){(function(h){function b(j){function i(k){if(!k){return !1}if(h.Buffer&&h.Buffer.isBuffer(k)||h.ArrayBuffer&&k instanceof ArrayBuffer||h.Blob&&k instanceof Blob||h.File&&k instanceof File){return !0}if(a(k)){for(var m=0;m<k.length;m++){if(i(k[m])){return !0}}}else{if(k&&"object"==typeof k){k.toJSON&&(k=k.toJSON());for(var l in k){if(Object.prototype.hasOwnProperty.call(k,l)&&i(k[l])){return !0}}}}return !1}return i(j)}var a=f("isarray");e.exports=b}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{isarray:24}],22:[function(f,e,h){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials" in new XMLHttpRequest}catch(g){e.exports=!1}},{}],23:[function(f,e,h){var g=[].indexOf;e.exports=function(j,i){if(g){return j.indexOf(i)}for(var k=0;k<j.length;++k){if(j[k]===i){return k}}return -1}},{}],24:[function(f,e,g){e.exports=Array.isArray||function(b){return"[object Array]"==Object.prototype.toString.call(b)}},{}],25:[function(x,w,v){function u(f){if(f=""+f,!(f.length>10000)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(f);if(e){var h=parseFloat(e[1]),g=(e[2]||"ms").toLowerCase();switch(g){case"years":case"year":case"yrs":case"yr":case"y":return h*m;case"days":case"day":case"d":return h*n;case"hours":case"hour":case"hrs":case"hr":case"h":return h*o;case"minutes":case"minute":case"mins":case"min":case"m":return h*p;case"seconds":case"second":case"secs":case"sec":case"s":return h*q;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h}}}}function t(b){return b>=n?Math.round(b/n)+"d":b>=o?Math.round(b/o)+"h":b>=p?Math.round(b/p)+"m":b>=q?Math.round(b/q)+"s":b+"ms"}function s(b){return r(b,n,"day")||r(b,o,"hour")||r(b,p,"minute")||r(b,q,"second")||b+" ms"}function r(f,e,g){return e>f?void 0:1.5*e>f?Math.floor(f/e)+" "+g:Math.ceil(f/e)+" "+g+"s"}var q=1000,p=60*q,o=60*p,n=24*o,m=365.25*n;w.exports=function(f,e){return e=e||{},"string"==typeof f?u(f):e["long"]?s(f):t(f)}},{}],26:[function(f,e,g){(function(b){var n=/^[\],:{}\s]*$/,m=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,l=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,k=/(?:^|:|,)(?:\s*\[)+/g,j=/^\s+/,i=/\s+$/;e.exports=function(a){return"string"==typeof a&&a?(a=a.replace(j,"").replace(i,""),b.JSON&&JSON.parse?JSON.parse(a):n.test(a.replace(m,"@").replace(l,"]").replace(k,""))?new Function("return "+a)():void 0):null}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],27:[function(f,e,g){g.encode=function(i){var h="";for(var j in i){i.hasOwnProperty(j)&&(h.length&&(h+="&"),h+=encodeURIComponent(j)+"="+encodeURIComponent(i[j]))}return h},g.decode=function(i){for(var h={},m=i.split("&"),l=0,k=m.length;k>l;l++){var j=m[l].split("=");h[decodeURIComponent(j[0])]=decodeURIComponent(j[1])}return h}},{}],28:[function(g,f,j){var i=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,h=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];f.exports=function(k){var e=k,p=k.indexOf("["),o=k.indexOf("]");-1!=p&&-1!=o&&(k=k.substring(0,p)+k.substring(p,o).replace(/:/g,";")+k.substring(o,k.length));for(var n=i.exec(k||""),m={},l=14;l--;){m[h[l]]=n[l]||""}return -1!=p&&-1!=o&&(m.source=e,m.host=m.host.substring(1,m.host.length-1).replace(/;/g,":"),m.authority=m.authority.replace("[","").replace("]","").replace(/;/g,":"),m.ipv6uri=!0),m}},{}],29:[function(a,f,e){(function(g){!function(S){function R(i){for(var h,m,l=[],k=0,j=i.length;j>k;){h=i.charCodeAt(k++),h>=55296&&56319>=h&&j>k?(m=i.charCodeAt(k++),56320==(64512&m)?l.push(((1023&h)<<10)+(1023&m)+65536):(l.push(h),k--)):l.push(h)}return l}function Q(i){for(var h,l=i.length,k=-1,j="";++k<l;){h=i[k],h>65535&&(h-=65536,j+=C(h>>>10&1023|55296),h=56320|1023&h),j+=C(h)}return j}function P(h){if(h>=55296&&57343>=h){throw Error("Lone surrogate U+"+h.toString(16).toUpperCase()+" is not a scalar value")}}function O(i,h){return C(i>>h&63|128)}function N(i){if(0==(4294967168&i)){return C(i)}var h="";return 0==(4294965248&i)?h=C(i>>6&31|192):0==(4294901760&i)?(P(i),h=C(i>>12&15|224),h+=O(i,6)):0==(4292870144&i)&&(h=C(i>>18&7|240),h+=O(i,12),h+=O(i,6)),h+=C(63&i|128)}function M(i){for(var h,m=R(i),l=m.length,k=-1,j="";++k<l;){h=m[k],j+=N(h)}return j}function L(){if(D>=E){throw Error("Invalid byte index")}var h=255&F[D];if(D++,128==(192&h)){return 63&h}throw Error("Invalid continuation byte")}function K(){var i,h,l,k,j;if(D>E){throw Error("Invalid byte index")}if(D==E){return !1}if(i=255&F[D],D++,0==(128&i)){return i}if(192==(224&i)){var h=L();if(j=(31&i)<<6|h,j>=128){return j}throw Error("Invalid continuation byte")}if(224==(240&i)){if(h=L(),l=L(),j=(15&i)<<12|h<<6|l,j>=2048){return P(j),j}throw Error("Invalid continuation byte")}if(240==(248&i)&&(h=L(),l=L(),k=L(),j=(15&i)<<18|h<<12|l<<6|k,j>=65536&&1114111>=j)){return j}throw Error("Invalid UTF-8 detected")}function J(i){F=R(i),E=F.length,D=0;for(var h,j=[];(h=K())!==!1;){j.push(h)}return Q(j)}var I="object"==typeof e&&e,H="object"==typeof f&&f&&f.exports==I&&f,G="object"==typeof g&&g;(G.global===G||G.window===G)&&(S=G);var F,E,D,C=String.fromCharCode,B={version:"2.0.0",encode:M,decode:J};if("function"==typeof d&&"object"==typeof d.amd&&d.amd){d(function(){return B})}else{if(I&&!I.nodeType){if(H){H.exports=B}else{var A={},z=A.hasOwnProperty;for(var b in B){z.call(B,b)&&(I[b]=B[b])}}}else{S.utf8=B}}}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],30:[function(x,w,v){function u(f){var e="";do{e=q[f%p]+e,f=Math.floor(f/p)}while(f>0);return e}function t(f){var e=0;for(m=0;m<f.length;m++){e=e*p+o[f.charAt(m)]}return e}function s(){var b=u(+new Date);return b!==r?(n=0,r=b):b+"."+u(n++)}for(var r,q="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),p=64,o={},n=0,m=0;p>m;m++){o[q[m]]=m}s.encode=u,s.decode=t,w.exports=s},{}],31:[function(r,q,p){function o(w,v){"object"==typeof w&&(v=w,w=void 0),v=v||{};var u,t=n(w),s=t.source,i=t.id,h=t.path,g=j[i]&&h in j[i].nsps,e=v.forceNew||v["force new connection"]||!1===v.multiplex||g;return e?(k("ignoring socket cache for %s",s),u=l(s,v)):(j[i]||(k("new io instance for %s",s),j[i]=l(s,v)),u=j[i]),u.socket(t.path)}var n=r("./url"),m=r("socket.io-parser"),l=r("./manager"),k=r("debug")("socket.io-client");q.exports=p=o;var j=p.managers={};p.protocol=m.protocol,p.connect=o,p.Manager=r("./manager"),p.Socket=r("./socket")},{"./manager":32,"./socket":34,"./url":35,debug:39,"socket.io-parser":47}],32:[function(B,A,z){function y(f,e){return this instanceof y?(f&&"object"==typeof f&&(e=f,f=void 0),e=e||{},e.path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1000),this.reconnectionDelayMax(e.reconnectionDelayMax||5000),this.randomizationFactor(e.randomizationFactor||0.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?20000:e.timeout),this.readyState="closed",this.uri=f,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new u.Encoder,this.decoder=new u.Decoder,this.autoConnect=e.autoConnect!==!1,void (this.autoConnect&&this.open())):new y(f,e)}var x=B("engine.io-client"),w=B("./socket"),v=B("component-emitter"),u=B("socket.io-parser"),t=B("./on"),s=B("component-bind"),r=B("debug")("socket.io-client:manager"),q=B("indexof"),p=B("backo2"),o=Object.prototype.hasOwnProperty;A.exports=y,y.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var b in this.nsps){o.call(this.nsps,b)&&this.nsps[b].emit.apply(this.nsps[b],arguments)}},y.prototype.updateSocketIds=function(){for(var b in this.nsps){o.call(this.nsps,b)&&(this.nsps[b].id=this.engine.id)}},v(y.prototype),y.prototype.reconnection=function(b){return arguments.length?(this._reconnection=!!b,this):this._reconnection},y.prototype.reconnectionAttempts=function(b){return arguments.length?(this._reconnectionAttempts=b,this):this._reconnectionAttempts},y.prototype.reconnectionDelay=function(b){return arguments.length?(this._reconnectionDelay=b,this.backoff&&this.backoff.setMin(b),this):this._reconnectionDelay},y.prototype.randomizationFactor=function(b){return arguments.length?(this._randomizationFactor=b,this.backoff&&this.backoff.setJitter(b),this):this._randomizationFactor},y.prototype.reconnectionDelayMax=function(b){return arguments.length?(this._reconnectionDelayMax=b,this.backoff&&this.backoff.setMax(b),this):this._reconnectionDelayMax},y.prototype.timeout=function(b){return arguments.length?(this._timeout=b,this):this._timeout},y.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},y.prototype.open=y.prototype.connect=function(i){if(r("readyState %s",this.readyState),~this.readyState.indexOf("open")){return this}r("opening %s",this.uri),this.engine=x(this.uri,this.opts);var e=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var m=t(e,"open",function(){n.onopen(),i&&i()}),l=t(e,"error",function(a){if(r("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",a),i){var f=new Error("Connection error");f.data=a,i(f)}else{n.maybeReconnectOnOpen()}});if(!1!==this._timeout){var k=this._timeout;r("connect attempt will timeout after %d",k);var j=setTimeout(function(){r("connect attempt timed out after %d",k),m.destroy(),e.close(),e.emit("error","timeout"),n.emitAll("connect_timeout",k)},k);this.subs.push({destroy:function(){clearTimeout(j)}})}return this.subs.push(m),this.subs.push(l),this},y.prototype.onopen=function(){r("open"),this.cleanup(),this.readyState="open",this.emit("open");var b=this.engine;this.subs.push(t(b,"data",s(this,"ondata"))),this.subs.push(t(b,"ping",s(this,"onping"))),this.subs.push(t(b,"pong",s(this,"onpong"))),this.subs.push(t(b,"error",s(this,"onerror"))),this.subs.push(t(b,"close",s(this,"onclose"))),this.subs.push(t(this.decoder,"decoded",s(this,"ondecoded")))},y.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},y.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},y.prototype.ondata=function(b){this.decoder.add(b)},y.prototype.ondecoded=function(b){this.emit("packet",b)},y.prototype.onerror=function(b){r("error",b),this.emitAll("error",b)},y.prototype.socket=function(f){function e(){~q(g.connecting,h)||g.connecting.push(h)}var h=this.nsps[f];if(!h){h=new w(this,f),this.nsps[f]=h;var g=this;h.on("connecting",e),h.on("connect",function(){h.id=g.engine.id}),this.autoConnect&&e()}return h},y.prototype.destroy=function(f){var e=q(this.connecting,f);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},y.prototype.packet=function(f){r("writing packet %j",f);var e=this;e.encoding?e.packetBuffer.push(f):(e.encoding=!0,this.encoder.encode(f,function(b){for(var a=0;a<b.length;a++){e.engine.write(b[a],f.options)}e.encoding=!1,e.processPacketQueue()}))},y.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var b=this.packetBuffer.shift();this.packet(b)}},y.prototype.cleanup=function(){r("cleanup");for(var b;b=this.subs.shift();){b.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},y.prototype.close=y.prototype.disconnect=function(){r("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"==this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},y.prototype.onclose=function(b){r("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",b),this._reconnection&&!this.skipReconnect&&this.reconnect()},y.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect){return this}var f=this;if(this.backoff.attempts>=this._reconnectionAttempts){r("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1}else{var e=this.backoff.duration();r("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var g=setTimeout(function(){f.skipReconnect||(r("attempting reconnect"),f.emitAll("reconnect_attempt",f.backoff.attempts),f.emitAll("reconnecting",f.backoff.attempts),f.skipReconnect||f.open(function(a){a?(r("reconnect attempt error"),f.reconnecting=!1,f.reconnect(),f.emitAll("reconnect_error",a.data)):(r("reconnect success"),f.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(g)}})}},y.prototype.onreconnect=function(){var b=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",b)}},{"./on":33,"./socket":34,backo2:36,"component-bind":37,"component-emitter":38,debug:39,"engine.io-client":1,indexof:42,"socket.io-parser":47}],33:[function(f,e,h){function g(j,i,k){return j.on(i,k),{destroy:function(){j.removeListener(i,k)}}}e.exports=g},{}],34:[function(z,y,x){function w(f,e){this.io=f,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.io.autoConnect&&this.open()}var v=z("socket.io-parser"),u=z("component-emitter"),t=z("to-array"),s=z("./on"),r=z("component-bind"),q=z("debug")("socket.io-client:socket"),p=z("has-binary");y.exports=x=w;var o={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},n=u.prototype.emit;u(w.prototype),w.prototype.subEvents=function(){if(!this.subs){var b=this.io;this.subs=[s(b,"open",r(this,"onopen")),s(b,"packet",r(this,"onpacket")),s(b,"close",r(this,"onclose"))]}},w.prototype.open=w.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this.emit("connecting"),this)},w.prototype.send=function(){var b=t(arguments);return b.unshift("message"),this.emit.apply(this,b),this},w.prototype.emit=function(f){if(o.hasOwnProperty(f)){return n.apply(this,arguments),this}var e=t(arguments),h=v.EVENT;p(e)&&(h=v.BINARY_EVENT);var g={type:h,data:e};return g.options={},g.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(q("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),g.id=this.ids++),this.connected?this.packet(g):this.sendBuffer.push(g),delete this.flags,this},w.prototype.packet=function(b){b.nsp=this.nsp,this.io.packet(b)},w.prototype.onopen=function(){q("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:v.CONNECT})},w.prototype.onclose=function(b){q("close (%s)",b),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",b)},w.prototype.onpacket=function(b){if(b.nsp==this.nsp){switch(b.type){case v.CONNECT:this.onconnect();break;case v.EVENT:this.onevent(b);break;case v.BINARY_EVENT:this.onevent(b);break;case v.ACK:this.onack(b);break;case v.BINARY_ACK:this.onack(b);break;case v.DISCONNECT:this.ondisconnect();break;case v.ERROR:this.emit("error",b.data)}}},w.prototype.onevent=function(f){var e=f.data||[];q("emitting event %j",e),null!=f.id&&(q("attaching ack callback to event"),e.push(this.ack(f.id))),this.connected?n.apply(this,e):this.receiveBuffer.push(e)},w.prototype.ack=function(f){var e=this,g=!1;return function(){if(!g){g=!0;var b=t(arguments);q("sending ack %j",b);var a=p(b)?v.BINARY_ACK:v.ACK;e.packet({type:a,id:f,data:b})}}},w.prototype.onack=function(f){var e=this.acks[f.id];"function"==typeof e?(q("calling ack %s with %j",f.id,f.data),e.apply(this,f.data),delete this.acks[f.id]):q("bad ack %s",f.id)},w.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},w.prototype.emitBuffered=function(){var b;for(b=0;b<this.receiveBuffer.length;b++){n.apply(this,this.receiveBuffer[b])}for(this.receiveBuffer=[],b=0;b<this.sendBuffer.length;b++){this.packet(this.sendBuffer[b])}this.sendBuffer=[]},w.prototype.ondisconnect=function(){q("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},w.prototype.destroy=function(){if(this.subs){for(var b=0;b<this.subs.length;b++){this.subs[b].destroy()}this.subs=null}this.io.destroy(this)},w.prototype.close=w.prototype.disconnect=function(){return this.connected&&(q("performing disconnect (%s)",this.nsp),this.packet({type:v.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},w.prototype.compress=function(b){return this.flags=this.flags||{},this.flags.compress=b,this}},{"./on":33,"component-bind":37,"component-emitter":38,debug:39,"has-binary":41,"socket.io-parser":47,"to-array":51}],35:[function(f,e,g){(function(i){function h(k,j){var n=k,j=j||i.location;null==k&&(k=j.protocol+"//"+j.host),"string"==typeof k&&("/"==k.charAt(0)&&(k="/"==k.charAt(1)?j.protocol+k:j.host+k),/^(https?|wss?):\/\//.test(k)||(a("protocol-less url %s",k),k="undefined"!=typeof j?j.protocol+"//"+k:"https://"+k),a("parse %s",k),n=b(k)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var m=-1!==n.host.indexOf(":"),l=m?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+l+":"+n.port,n.href=n.protocol+"://"+l+(j&&j.port==n.port?"":":"+n.port),n}var b=f("parseuri"),a=f("debug")("socket.io-client:url");e.exports=h}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{debug:39,parseuri:45}],36:[function(f,e,h){function g(b){b=b||{},this.ms=b.min||100,this.max=b.max||10000,this.factor=b.factor||2,this.jitter=b.jitter>0&&b.jitter<=1?b.jitter:0,this.attempts=0}e.exports=g,g.prototype.duration=function(){var j=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var i=Math.random(),k=Math.floor(i*this.jitter*j);j=0==(1&Math.floor(10*i))?j-k:j+k}return 0|Math.min(j,this.max)},g.prototype.reset=function(){this.attempts=0},g.prototype.setMin=function(b){this.ms=b},g.prototype.setMax=function(b){this.max=b},g.prototype.setJitter=function(b){this.jitter=b}},{}],37:[function(f,e,h){var g=[].slice;e.exports=function(j,i){if("string"==typeof i&&(i=j[i]),"function"!=typeof i){throw new Error("bind() requires a function")}var k=g.call(arguments,2);return function(){return i.apply(j,k.concat(g.call(arguments)))}}},{}],38:[function(g,f,j){function i(b){return b?h(b):void 0}function h(k){for(var e in i.prototype){k[e]=i.prototype[e]}return k}f.exports=i,i.prototype.on=i.prototype.addEventListener=function(k,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+k]=this._callbacks["$"+k]||[]).push(e),this},i.prototype.once=function(k,e){function l(){this.off(k,l),e.apply(this,arguments)}return l.fn=e,this.on(k,l),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(l,k){if(this._callbacks=this._callbacks||{},0==arguments.length){return this._callbacks={},this}var o=this._callbacks["$"+l];if(!o){return this}if(1==arguments.length){return delete this._callbacks["$"+l],this}for(var n,m=0;m<o.length;m++){if(n=o[m],n===k||n.fn===k){o.splice(m,1);break}}return this},i.prototype.emit=function(l){this._callbacks=this._callbacks||{};var k=[].slice.call(arguments,1),o=this._callbacks["$"+l];if(o){o=o.slice(0);for(var n=0,m=o.length;m>n;++n){o[n].apply(this,k)}}return this},i.prototype.listeners=function(b){return this._callbacks=this._callbacks||{},this._callbacks["$"+b]||[]},i.prototype.hasListeners=function(b){return !!this.listeners(b).length}},{}],39:[function(f,e,g){arguments[4][17][0].apply(g,arguments)},{"./debug":40,dup:17}],40:[function(f,e,g){arguments[4][18][0].apply(g,arguments)},{dup:18,ms:44}],41:[function(f,e,g){(function(h){function b(j){function i(k){if(!k){return !1}if(h.Buffer&&h.Buffer.isBuffer&&h.Buffer.isBuffer(k)||h.ArrayBuffer&&k instanceof ArrayBuffer||h.Blob&&k instanceof Blob||h.File&&k instanceof File){return !0}if(a(k)){for(var m=0;m<k.length;m++){if(i(k[m])){return !0}}}else{if(k&&"object"==typeof k){k.toJSON&&"function"==typeof k.toJSON&&(k=k.toJSON());for(var l in k){if(Object.prototype.hasOwnProperty.call(k,l)&&i(k[l])){return !0}}}}return !1}return i(j)}var a=f("isarray");e.exports=b}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{isarray:43}],42:[function(f,e,g){arguments[4][23][0].apply(g,arguments)},{dup:23}],43:[function(f,e,g){arguments[4][24][0].apply(g,arguments)},{dup:24}],44:[function(f,e,g){arguments[4][25][0].apply(g,arguments)},{dup:25}],45:[function(f,e,g){arguments[4][28][0].apply(g,arguments)},{dup:28}],46:[function(f,e,g){(function(a){var i=f("isarray"),h=f("./is-buffer");g.deconstructPacket=function(k){function j(b){if(!b){return b}if(h(b)){var r={_placeholder:!0,num:n.length};return n.push(b),r}if(i(b)){for(var q=new Array(b.length),p=0;p<b.length;p++){q[p]=j(b[p])}return q}if("object"==typeof b&&!(b instanceof Date)){var q={};for(var o in b){q[o]=j(b[o])}return q}return b}var n=[],m=k.data,l=k;return l.data=j(m),l.attachments=n.length,{packet:l,buffers:n}},g.reconstructPacket=function(k,j){function l(b){if(b&&b._placeholder){var o=j[b.num];return o}if(i(b)){for(var n=0;n<b.length;n++){b[n]=l(b[n])}return b}if(b&&"object"==typeof b){for(var m in b){b[m]=l(b[m])}return b}return b}return k.data=l(k.data),k.attachments=void 0,k},g.removeBlobs=function(b,m){function l(p,s,r){if(!p){return p}if(a.Blob&&p instanceof Blob||a.File&&p instanceof File){k++;var q=new FileReader;q.onload=function(){r?r[s]=this.result:j=this.result,--k||m(j)},q.readAsArrayBuffer(p)}else{if(i(p)){for(var o=0;o<p.length;o++){l(p[o],o,p)}}else{if(p&&"object"==typeof p&&!h(p)){for(var n in p){l(p[n],n,p)}}}}}var k=0,j=b;l(j),k||m(j)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./is-buffer":48,isarray:43}],47:[function(D,C,B){function A(){}function z(f){var e="",g=!1;return e+=f.type,(B.BINARY_EVENT==f.type||B.BINARY_ACK==f.type)&&(e+=f.attachments,e+="-"),f.nsp&&"/"!=f.nsp&&(g=!0,e+=f.nsp),null!=f.id&&(g&&(e+=",",g=!1),e+=f.id),null!=f.data&&(g&&(e+=","),e+=s.stringify(f.data)),t("encoded %j as %s",f,e),e}function y(f,e){function g(b){var j=q.deconstructPacket(b),i=z(j.packet),h=j.buffers;h.unshift(i),e(h)}q.removeBlobs(f,g)}function x(){this.reconstructor=null}function w(j){var i={},o=0;if(i.type=Number(j.charAt(0)),null==B.types[i.type]){return u()}if(B.BINARY_EVENT==i.type||B.BINARY_ACK==i.type){for(var n="";"-"!=j.charAt(++o)&&(n+=j.charAt(o),o!=j.length);){}if(n!=Number(n)||"-"!=j.charAt(o)){throw new Error("Illegal attachments")}i.attachments=Number(n)}if("/"==j.charAt(o+1)){for(i.nsp="";++o;){var m=j.charAt(o);if(","==m){break}if(i.nsp+=m,o==j.length){break}}}else{i.nsp="/"}var l=j.charAt(o+1);if(""!==l&&Number(l)==l){for(i.id="";++o;){var m=j.charAt(o);if(null==m||Number(m)!=m){--o;break}if(i.id+=j.charAt(o),o==j.length){break}}i.id=Number(i.id)}if(j.charAt(++o)){try{i.data=s.parse(j.substr(o))}catch(k){return u()}}return t("decoded %s as %j",j,i),i}function v(b){this.reconPack=b,this.buffers=[]}function u(b){return{type:B.ERROR,data:"parser error"}}var t=D("debug")("socket.io-parser"),s=D("json3"),r=(D("isarray"),D("component-emitter")),q=D("./binary"),p=D("./is-buffer");B.protocol=4,B.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],B.CONNECT=0,B.DISCONNECT=1,B.EVENT=2,B.ACK=3,B.ERROR=4,B.BINARY_EVENT=5,B.BINARY_ACK=6,B.Encoder=A,B.Decoder=x,A.prototype.encode=function(f,e){if(t("encoding packet %j",f),B.BINARY_EVENT==f.type||B.BINARY_ACK==f.type){y(f,e)}else{var g=z(f);e([g])}},r(x.prototype),x.prototype.add=function(f){var e;if("string"==typeof f){e=w(f),B.BINARY_EVENT==e.type||B.BINARY_ACK==e.type?(this.reconstructor=new v(e),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",e)):this.emit("decoded",e)}else{if(!p(f)&&!f.base64){throw new Error("Unknown type: "+f)}if(!this.reconstructor){throw new Error("got binary data when not reconstructing a packet")}e=this.reconstructor.takeBinaryData(f),e&&(this.reconstructor=null,this.emit("decoded",e))}},x.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},v.prototype.takeBinaryData=function(f){if(this.buffers.push(f),this.buffers.length==this.reconPack.attachments){var e=q.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},v.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":46,"./is-buffer":48,"component-emitter":49,debug:39,isarray:43,json3:50}],48:[function(f,e,g){(function(b){function h(a){return b.Buffer&&b.Buffer.isBuffer(a)||b.ArrayBuffer&&a instanceof ArrayBuffer}e.exports=h}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],49:[function(f,e,g){arguments[4][15][0].apply(g,arguments)},{dup:15}],50:[function(a,f,e){(function(g){(function(){function w(aK,aJ){function aI(E){if(aI[E]!==ax){return aI[E]}var D;if("bug-string-char-index"==E){D="a"!="a"[0]}else{if("json"==E){D=aI("json-stringify")&&aI("json-parse")}else{var C,B='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==E){var A=aJ.stringify,z="function"==typeof A&&au;if(z){(C=function(){return 1}).toJSON=C;try{z="0"===A(0)&&"0"===A(new aH)&&'""'==A(new aG)&&A(av)===ax&&A(ax)===ax&&A()===ax&&"1"===A(C)&&"[1]"==A([C])&&"[null]"==A([ax])&&"null"==A(null)&&"[null,null,null]"==A([ax,av,null])&&A({a:[C,!0,!1,null,"\x00\b\n\f\r	"]})==B&&"1"===A(null,C)&&"[\n 1,\n 2\n]"==A([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==A(new aE(-8640000000000000))&&'"+275760-09-13T00:00:00.000Z"'==A(new aE(8640000000000000))&&'"-000001-01-01T00:00:00.000Z"'==A(new aE(-62198755200000))&&'"1969-12-31T23:59:59.999Z"'==A(new aE(-1))}catch(y){z=!1}}D=z}if("json-parse"==E){var x=aJ.parse;if("function"==typeof x){try{if(0===x("0")&&!x(!1)){C=x(B);var j=5==C.a.length&&1===C.a[0];if(j){try{j=!x('"	"')}catch(y){}if(j){try{j=1!==x("01")}catch(y){}}if(j){try{j=1!==x("1.")}catch(y){}}}}}catch(y){j=!1}}D=j}}}return aI[E]=!!D}aK||(aK=s.Object()),aJ||(aJ=s.Object());var aH=aK.Number||s.Number,aG=aK.String||s.String,aF=aK.Object||s.Object,aE=aK.Date||s.Date,aD=aK.SyntaxError||s.SyntaxError,aC=aK.TypeError||s.TypeError,aB=aK.Math||s.Math,aA=aK.JSON||s.JSON;"object"==typeof aA&&aA&&(aJ.stringify=aA.stringify,aJ.parse=aA.parse);var az,ay,ax,aw=aF.prototype,av=aw.toString,au=new aE(-3509827334573292);try{au=-109252==au.getUTCFullYear()&&0===au.getUTCMonth()&&1===au.getUTCDate()&&10==au.getUTCHours()&&37==au.getUTCMinutes()&&6==au.getUTCSeconds()&&708==au.getUTCMilliseconds()}catch(at){}if(!aI("json")){var ar="[object Function]",aq="[object Date]",ap="[object Number]",ao="[object String]",an="[object Array]",am="[object Boolean]",al=aI("bug-string-char-index");if(!au){var ak=aB.floor,aj=[0,31,59,90,120,151,181,212,243,273,304,334],ai=function(j,h){return aj[h]+365*(j-1970)+ak((j-1969+(h=+(h>1)))/4)-ak((j-1901+h)/100)+ak((j-1601+h)/400)}}if((az=aw.hasOwnProperty)||(az=function(j){var h,k={};return(k.__proto__=null,k.__proto__={toString:1},k).toString!=av?az=function(m){var l=this.__proto__,n=m in (this.__proto__=null,this);return this.__proto__=l,n}:(h=k.constructor,az=function(l){var m=(this.constructor||h).prototype;return l in this&&!(l in m&&this[l]===m[l])}),k=null,az.call(this,j)}),ay=function(j,h){var n,m,l,k=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,m=new n;for(l in m){az.call(m,l)&&k++}return n=m=null,k?ay=2==k?function(y,x){var B,A={},z=av.call(y)==ar;for(B in y){z&&"prototype"==B||az.call(A,B)||!(A[B]=1)||!az.call(y,B)||x(B)}}:function(y,x){var B,A,z=av.call(y)==ar;for(B in y){z&&"prototype"==B||!az.call(y,B)||(A="constructor"===B)||x(B)}(A||az.call(y,B="constructor"))&&x(B)}:(m=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],ay=function(y,x){var C,B,A=av.call(y)==ar,z=!A&&"function"!=typeof y.constructor&&u[typeof y.hasOwnProperty]&&y.hasOwnProperty||az;for(C in y){A&&"prototype"==C||!z.call(y,C)||x(C)}for(B=m.length;C=m[--B];z.call(y,C)&&x(C)){}}),ay(j,h)},!aI("json-stringify")){var ah={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},ag="000000",af=function(j,h){return(ag+(h||0)).slice(-j)},ae="\\u00",ad=function(j){for(var h='"',x=0,n=j.length,m=!al||n>10,l=m&&(al?j.split(""):j);n>x;x++){var k=j.charCodeAt(x);switch(k){case 8:case 9:case 10:case 12:case 13:case 34:case 92:h+=ah[k];break;default:if(32>k){h+=ae+af(2,k.toString(16));break}h+=m?l[x]:j.charAt(x)}}return h+'"'},ac=function(aR,aQ,aP,aO,aN,aM,aL){var T,S,R,Q,P,O,K,H,E,A,N,J,C,z,y,x;try{T=aQ[aR]}catch(l){}if("object"==typeof T&&T){if(S=av.call(T),S!=aq||az.call(T,"toJSON")){"function"==typeof T.toJSON&&(S!=ap&&S!=ao&&S!=an||az.call(T,"toJSON"))&&(T=T.toJSON(aR))}else{if(T>-1/0&&1/0>T){if(ai){for(P=ak(T/86400000),R=ak(P/365.2425)+1970-1;ai(R+1,0)<=P;R++){}for(Q=ak((P-ai(R,0))/30.42);ai(R,Q+1)<=P;Q++){}P=1+P-ai(R,Q),O=(T%86400000+86400000)%86400000,K=ak(O/3600000)%24,H=ak(O/60000)%60,E=ak(O/1000)%60,A=O%1000}else{R=T.getUTCFullYear(),Q=T.getUTCMonth(),P=T.getUTCDate(),K=T.getUTCHours(),H=T.getUTCMinutes(),E=T.getUTCSeconds(),A=T.getUTCMilliseconds()}T=(0>=R||R>=10000?(0>R?"-":"+")+af(6,0>R?-R:R):af(4,R))+"-"+af(2,Q+1)+"-"+af(2,P)+"T"+af(2,K)+":"+af(2,H)+":"+af(2,E)+"."+af(3,A)+"Z"}else{T=null}}}if(aP&&(T=aP.call(aQ,aR,T)),null===T){return"null"}if(S=av.call(T),S==am){return""+T}if(S==ap){return T>-1/0&&1/0>T?""+T:"null"}if(S==ao){return ad(""+T)}if("object"==typeof T){for(z=aL.length;z--;){if(aL[z]===T){throw aC()}}if(aL.push(T),N=[],y=aM,aM+=aN,S==an){for(C=0,z=T.length;z>C;C++){J=ac(C,T,aP,aO,aN,aM,aL),N.push(J===ax?"null":J)}x=N.length?aN?"[\n"+aM+N.join(",\n"+aM)+"\n"+y+"]":"["+N.join(",")+"]":"[]"}else{ay(aO||T,function(j){var h=ac(j,T,aP,aO,aN,aM,aL);h!==ax&&N.push(ad(j)+":"+(aN?" ":"")+h)}),x=N.length?aN?"{\n"+aM+N.join(",\n"+aM)+"\n"+y+"}":"{"+N.join(",")+"}":"{}"}return aL.pop(),x}};aJ.stringify=function(D,C,B){var A,z,y,x;if(u[typeof C]&&C){if((x=av.call(C))==ar){z=C}else{if(x==an){y={};for(var n,m=0,l=C.length;l>m;n=C[m++],x=av.call(n),(x==ao||x==ap)&&(y[n]=1)){}}}}if(B){if((x=av.call(B))==ap){if((B-=B%1)>0){for(A="",B>10&&(B=10);A.length<B;A+=" "){}}}else{x==ao&&(A=B.length<=10?B:B.slice(0,10))}}return ac("",(n={},n[""]=D,n),z,y,A,"",[])}}if(!aI("json-parse")){var ab,aa,Z=aG.fromCharCode,Y={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},X=function(){throw ab=aa=null,aD()},W=function(){for(var j,h,x,n,m,l=aa,k=l.length;k>ab;){switch(m=l.charCodeAt(ab)){case 9:case 10:case 13:case 32:ab++;break;case 123:case 125:case 91:case 93:case 58:case 44:return j=al?l.charAt(ab):l[ab],ab++,j;case 34:for(j="@",ab++;k>ab;){if(m=l.charCodeAt(ab),32>m){X()}else{if(92==m){switch(m=l.charCodeAt(++ab)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:j+=Y[m],ab++;break;case 117:for(h=++ab,x=ab+4;x>ab;ab++){m=l.charCodeAt(ab),m>=48&&57>=m||m>=97&&102>=m||m>=65&&70>=m||X()}j+=Z("0x"+l.slice(h,ab));break;default:X()}}else{if(34==m){break}for(m=l.charCodeAt(ab),h=ab;m>=32&&92!=m&&34!=m;){m=l.charCodeAt(++ab)}j+=l.slice(h,ab)}}}if(34==l.charCodeAt(ab)){return ab++,j}X();default:if(h=ab,45==m&&(n=!0,m=l.charCodeAt(++ab)),m>=48&&57>=m){for(48==m&&(m=l.charCodeAt(ab+1),m>=48&&57>=m)&&X(),n=!1;k>ab&&(m=l.charCodeAt(ab),m>=48&&57>=m);ab++){}if(46==l.charCodeAt(ab)){for(x=++ab;k>x&&(m=l.charCodeAt(x),m>=48&&57>=m);x++){}x==ab&&X(),ab=x}if(m=l.charCodeAt(ab),101==m||69==m){for(m=l.charCodeAt(++ab),(43==m||45==m)&&ab++,x=ab;k>x&&(m=l.charCodeAt(x),m>=48&&57>=m);x++){}x==ab&&X(),ab=x}return +l.slice(h,ab)}if(n&&X(),"true"==l.slice(ab,ab+4)){return ab+=4,!0}if("false"==l.slice(ab,ab+5)){return ab+=5,!1}if("null"==l.slice(ab,ab+4)){return ab+=4,null}X()}}return"$"},V=function(j){var h,k;if("$"==j&&X(),"string"==typeof j){if("@"==(al?j.charAt(0):j[0])){return j.slice(1)}if("["==j){for(h=[];j=W(),"]"!=j;k||(k=!0)){k&&(","==j?(j=W(),"]"==j&&X()):X()),","==j&&X(),h.push(V(j))}return h}if("{"==j){for(h={};j=W(),"}"!=j;k||(k=!0)){k&&(","==j?(j=W(),"}"==j&&X()):X()),(","==j||"string"!=typeof j||"@"!=(al?j.charAt(0):j[0])||":"!=W())&&X(),h[j.slice(1)]=V(W())}return h}X()}return j},U=function(j,h,l){var k=i(j,h,l);k===ax?delete j[h]:j[h]=k},i=function(j,h,m){var l,k=j[h];if("object"==typeof k&&k){if(av.call(k)==an){for(l=k.length;l--;){U(k,l,m)}}else{ay(k,function(n){U(k,n,m)})}}return m.call(j,h,k)};aJ.parse=function(j,h){var l,k;return ab=0,aa=""+j,l=V(W()),"$"!=W()&&X(),ab=aa=null,h&&av.call(h)==ar?i((k={},k[""]=l,k),"",h):l}}}return aJ.runInContext=w,aJ}var v="function"==typeof d&&d.amd,u={"function":!0,object:!0},t=u[typeof e]&&e&&!e.nodeType&&e,s=u[typeof window]&&window||this,r=t&&u[typeof f]&&f&&!f.nodeType&&"object"==typeof g&&g;if(!r||r.global!==r&&r.window!==r&&r.self!==r||(s=r),t&&!v){w(s,t)}else{var q=s.JSON,p=s.JSON3,o=!1,b=w(s,s.JSON3={noConflict:function(){return o||(o=!0,s.JSON=q,s.JSON3=p,q=p=null),b}});s.JSON={parse:b.parse,stringify:b.stringify}}v&&d(function(){return b})}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],51:[function(f,e,h){function g(j,i){var l=[];i=i||0;for(var k=i||0;k<j.length;k++){l[k-i]=j[k]}return l}e.exports=g},{}]},{},[31])(31)});(function(){var e=["useCORSRouteToGetCookie","url","multiplex","transports","query","path","headers","initialConnectionHeaders","reconnection","reconnectionAttempts","reconnectionDelay","reconnectionDelayMax","rejectUnauthorized","randomizationFactor","timeout"];var c=["autoConnect","environment","headers","url","transports","path"];var g={version:"__sails_io_sdk_version",platform:"__sails_io_sdk_platform",language:"__sails_io_sdk_language"};var i={version:"0.13.8",language:"javascript",platform:(function(){if(typeof module==="object"&&typeof module.exports!=="undefined"){return"node"}else{return"browser"}})()};i.versionString=g.version+"="+i.version+"&"+g.platform+"="+i.platform+"&"+g.language+"="+i.language;var d=(function(){if(typeof window!=="object"||typeof window.document!=="object"||typeof window.document.getElementsByTagName!=="function"){return null}var j=window.document.getElementsByTagName("script");return j[j.length-1]})();var f="";var b={};if(d){f=d.src;c.forEach(function(j){b[j]=(function(){var k=d.getAttribute("data-"+j);if(!k){k=d.getAttribute(j)}if(typeof k==="string"){try{return JSON.parse(k)}catch(l){return k}}else{if(k===null){return undefined}else{throw new Error("sails.io.js :: Unexpected/invalid script tag configuration for `"+j+"`: `"+k+"` (a `"+typeof k+"`). Should be a string.")}}})();if(b[j]===undefined){delete b[j]}});if(typeof b.autoConnect!=="undefined"){if(b.autoConnect===""){b.autoConnect=true}else{if(typeof b.autoConnect!=="boolean"){throw new Error("sails.io.js :: Unexpected/invalid configuration for `autoConnect` provided in script tag: `"+b.autoConnect+"` (a `"+typeof b.autoConnect+"`). Should be a boolean.")}}}if(typeof b.environment!=="undefined"){if(typeof b.environment!=="string"){throw new Error("sails.io.js :: Unexpected/invalid configuration for `environment` provided in script tag: `"+b.environment+"` (a `"+typeof b.environment+"`). Should be a string.")}}if(typeof b.headers!=="undefined"){if(typeof b.headers!=="object"||Array.isArray(b.headers)){throw new Error("sails.io.js :: Unexpected/invalid configuration for `headers` provided in script tag: `"+b.headers+"` (a `"+typeof b.headers+'`). Should be a JSON-compatible dictionary (i.e. `{}`).  Don\'t forget those double quotes (""), even on key names!  Use single quotes (\'\') to wrap the HTML attribute value; e.g. `headers=\'{"X-Auth": "foo"}\'`')}}if(typeof b.url!=="undefined"){if(typeof b.url!=="string"){throw new Error("sails.io.js :: Unexpected/invalid configuration for `url` provided in script tag: `"+b.url+"` (a `"+typeof b.url+"`). Should be a string.")}}}var h=(typeof io!=="undefined")?io:undefined;function a(r){var p;if(r){p=r}else{p=h}if(!p){if(i.platform==="node"){throw new Error("No socket.io client available.  When requiring `sails.io.js` from Node.js, a socket.io client (`io`) must be passed in; e.g.:\n```\nvar io = require('sails.io.js')( require('socket.io-client') )\n```\n(see https://github.com/balderdashy/sails.io.js/tree/master/test for more examples)")}else{throw new Error("The Sails socket SDK depends on the socket.io client, but the socket.io global (`io`) was not available when `sails.io.js` loaded.  Normally, the socket.io client code is bundled with sails.io.js, so something is a little off.  Please check to be sure this version of `sails.io.js` has the minified Socket.io client at the top of the file.")}}if(p.sails){if(i.platform==="node"){throw new Error("The provided socket.io client (`io`) has already been augmented into a Sails socket SDK instance (it has `io.sails`).")}else{throw new Error("The socket.io client (`io`) has already been augmented into a Sails socket SDK instance.  Usually, this means you are bringing `sails.io.js` onto the page more than once.")}}function n(s){s=s||{prefix:true};if(typeof console!=="object"||typeof console.log!=="function"||typeof console.log.bind!=="function"){return function u(){}}return function t(){var v=Array.prototype.slice.call(arguments);if(p.sails.environment==="production"){return}var w="";if(s.prefix){v.unshift(w)}console.log.bind(console).apply(this,v)}}var o=n();o.noPrefix=n({prefix:false});function j(t){var s=t.requestQueue;if(!s){return}for(var u in s){var v=({}).hasOwnProperty.call(s,u);if(v){var w=s[u];t.request.apply(t,w)}}t.requestQueue=null}function q(u,s){u=u||{};if(typeof window==="undefined"){return s()}var t=document.createElement("script");window._sailsIoJSConnect=function(v){if(t&&t.parentNode){t.parentNode.removeChild(t)}s(v)};t.src=u.url;document.getElementsByTagName("head")[0].appendChild(t)}function k(s){this.body=s.body||{};this.headers=s.headers||{};this.statusCode=s.statusCode||200;if(this.statusCode<200||this.statusCode>=400){this.error=this.body||this.statusCode}}k.prototype.toString=function(){return"[ResponseFromSails]  -- Status: "+this.statusCode+"  -- Headers: "+this.headers+"  -- Body: "+this.body};k.prototype.toPOJO=function(){return{body:this.body,headers:this.headers,statusCode:this.statusCode}};k.prototype.pipe=function(){return new Error("Client-side streaming support not implemented yet.")};function l(t,v){if(!t._raw){throw new Error("Failed to emit from socket- raw SIO socket is missing.")}var s=v.cb;delete v.cb;var u=v.method;t._raw.emit(u,v,function w(x){if(s){s(x.body,new k(x))}})}function m(u){var s=this;u=u||{};var t={};e.forEach(function(v){if(v=="headers"){return}Object.defineProperty(s,v,{get:function(){if(v=="url"){return t[v]||(s._raw&&s._raw.io&&s._raw.io.uri)}return t[v]},set:function(w){if(s.isConnected()&&p.sails.strict!==false&&w!=t[v]){throw new Error("Cannot change value of `"+v+"` while socket is connected.")}if(s._raw&&s._raw.io&&s._raw.io.reconnecting&&!s._raw.io.skipReconnect){s._raw.io.skipReconnect=true;o("Stopping reconnect; use .reconnect() to connect socket after changing options.")}t[v]=w}})});e.forEach(function(v){s[v]=u[v]});s.eventQueue={};s.on("sails:parseError",function(v){o("Sails encountered an error parsing a socket message sent from this client, and did not have access to a callback function to respond with.");o("Error details:",v)})}m.prototype._connect=function(){var u=this;u.isConnecting=true;e.forEach(function(w){if("undefined"==typeof u[w]){u[w]=p.sails[w]}});u.extraHeaders=u.initialConnectionHeaders||{};if(u.initialConnectionHeaders&&i.platform!=="node"){if(typeof console==="object"&&typeof console.warn==="function"){console.warn("initialConnectionHeaders option available in Node.js only!")}}u.url=u.url?u.url.replace(/(\/)$/,""):undefined;if(typeof u.query!=="string"){u.query=i.versionString}else{u.query+="&"+i.versionString}var t=(function(){if(typeof window==="undefined"||typeof window.location==="undefined"){return false}if(typeof u.url!=="string"){return false}var A=(function(){try{A=u.url.match(/^([a-z]+:\/\/)/i)[1].toLowerCase()}catch(D){}A=A||"http://";return A})();var y=!!u.url.match("^https");var z=(function(){try{return u.url.match(/^[a-z]+:\/\/[^:]*:([0-9]*)/i)[1]}catch(D){}return y?"443":"80"})();var w=u.url.replace(/^([a-z]+:\/\/)/i,"");if(A.replace(/[:\/]/g,"")!==window.location.protocol.replace(/[:\/]/g,"")){return true}var B=w.search(window.location.hostname)===0;if(!B){return true}var C=window.location.protocol.match(/https/i);var x=(window.location.port+"")||(C?"443":"80");if(z!==x){return true}return false})();(function s(w){if(!(u.useCORSRouteToGetCookie&&t)){return w()}var x=u.url;if(typeof u.useCORSRouteToGetCookie==="string"){x+=u.useCORSRouteToGetCookie}else{x+="/__getcookie"}q({url:x,method:"GET"},w)})(function v(){u._raw=p(u.url,u);u.replay();u.on("connect",function x(){u.isConnecting=false;o.noPrefix("\n\n  |>    Now connected to Sails.\n\\___/   For help, see: http://bit.ly/1DmTvgK\n        (using sails.io.js "+p.sails.sdk.platform+" SDK @v"+p.sails.sdk.version+")\n\n\n")});u.on("disconnect",function(){u.connectionLostTimestamp=(new Date()).getTime();o("====================================");o("Socket was disconnected from Sails.");o("Usually, this is due to one of the following reasons:\n -> the server "+(u.url?u.url+" ":"")+"was taken down\n -> your browser lost internet connectivity");o("====================================")});u.on("reconnecting",function(y){o("\n        Socket is trying to reconnect to Sails...\n_-|>_-  (attempt #"+y+")\n\n")});u.on("reconnect",function(B,z){if(!u.isConnecting){u.on("connect",j.bind(u,u))}var A=((new Date()).getTime()-u.connectionLostTimestamp);var y=(A/1000);o("\n  |>    Socket reconnected successfully after\n\\___/   being offline for ~"+y+" seconds.\n\n")});u.on("error",function w(y){u.isConnecting=false;o("Failed to connect socket (possibly due to failed `beforeConnect` on server)","Error:",y)})})};m.prototype.reconnect=function(){if(this.isConnecting){throw new Error("Cannot connect- socket is already connecting")}if(this.isConnected()){throw new Error("Cannot connect- socket is already connected")}return this._connect()};m.prototype.disconnect=function(){this.isConnecting=false;if(!this.isConnected()){throw new Error("Cannot disconnect- socket is already disconnected")}return this._raw.disconnect()};m.prototype.isConnected=function(){if(!this._raw){return false}return !!this._raw.connected};m.prototype.replay=function(){var s=this;for(var u in s.eventQueue){for(var t in s.eventQueue[u]){s._raw.on(u,s.eventQueue[u][t])}}if(!s.isConnected()){s._raw.once("connect",j.bind(s,s))}else{j(s)}return s};m.prototype.on=function(s,t){if(this._raw){this._raw.on(s,t);return this}if(!this.eventQueue[s]){this.eventQueue[s]=[t]}else{this.eventQueue[s].push(t)}return this};m.prototype.off=function(s,t){if(this._raw){this._raw.off(s,t);return this}if(this.eventQueue[s]&&this.eventQueue[s].indexOf(t)>-1){this.eventQueue[s].splice(this.eventQueue[s].indexOf(t),1)}return this};m.prototype.removeAllListeners=function(){if(this._raw){this._raw.removeAllListeners();return this}this.eventQueue={};return this};m.prototype.get=function(t,u,s){if(typeof u==="function"){s=u;u={}}return this.request({method:"get",params:u,url:t},s)};m.prototype.post=function(t,u,s){if(typeof u==="function"){s=u;u={}}return this.request({method:"post",data:u,url:t},s)};m.prototype.put=function(t,u,s){if(typeof u==="function"){s=u;u={}}return this.request({method:"put",params:u,url:t},s)};m.prototype["delete"]=function(t,u,s){if(typeof u==="function"){s=u;u={}}return this.request({method:"delete",params:u,url:t},s)};m.prototype.request=function(u,s){var v='Usage:\nsocket.request( options, [fnToCallWhenComplete] )\n\noptions.url :: e.g. "/foo/bar"\noptions.method :: e.g. "get", "post", "put", or "delete", etc.\noptions.params :: e.g. { emailAddress: "mike@sailsjs.org" }\noptions.headers :: e.g. { "x-my-custom-header": "some string" }';if(typeof u!=="object"||typeof u.url!=="string"){throw new Error("Invalid or missing URL!\n"+v)}if(u.method&&typeof u.method!=="string"){throw new Error('Invalid `method` provided (should be a string like "post" or "put")\n'+v)}if(u.headers&&typeof u.headers!=="object"){throw new Error("Invalid `headers` provided (should be a dictionary with string values)\n"+v)}if(u.params&&typeof u.params!=="object"){throw new Error("Invalid `params` provided (should be a dictionary with JSON-serializable values)\n"+v)}if(u.data&&typeof u.data!=="object"){throw new Error("Invalid `data` provided (should be a dictionary with JSON-serializable values)\n"+v)}if(s&&typeof s!=="function"){throw new Error("Invalid callback function!\n"+v)}if(u.data&&u.params){throw new Error("Cannot specify both `params` and `data`!  They are aliases of each other.\n"+v)}else{if(u.data){u.params=u.data;delete u.data}}if(!this.isConnected()){this.requestQueue=this.requestQueue||[];this.requestQueue.push([u,s]);return}u.headers=u.headers||{};var t={method:u.method.toLowerCase()||"get",headers:u.headers,data:u.params||u.data||{},url:u.url.replace(/^(.+)\/*\s*$/,"$1"),cb:s};if(this.headers&&"object"==typeof this.headers){for(var w in this.headers){if(!u.headers.hasOwnProperty(w)){u.headers[w]=this.headers[w]}}}l(this,t)};m.prototype._request=function(t,s){throw new Error("`_request()` was a private API deprecated as of v0.11 of the sails.io.js client. Use `.request()` instead.")};p.sails={autoConnect:true,useCORSRouteToGetCookie:true,environment:f.match(/(\#production|\.min\.js)/g)?"production":"development",sdk:i,transports:["polling","websocket"]};c.forEach(function(s){if(typeof b[s]!=="undefined"){p.sails[s]=b[s]}});p.sails.connect=function(t,u){if("object"===typeof t){u=t;t=null}u=u||{};u.url=t||u.url||undefined;var s=new m(u);s._connect();return s};p.socket=new m();setTimeout(function(){if(p.sails.autoConnect===false||p.sails.autoconnect===false){delete p.socket;return}p.socket._connect()},0);return p}if(i.platform==="node"){module.exports=a}else{if(typeof define==="function"&&define.amd){define([],function(){return a})}else{a()}}})();