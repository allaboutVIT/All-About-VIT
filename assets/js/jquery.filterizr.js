(function(global,$){varpacker:function(w){this.init(w)};Packer.prototype ={init:function(w){this.root ={x:0,y:0,w:w},fit:function(blocks){varnnodeblocklen:blocks.length;varh:len>0 ? blocks[0].h:0;thisrooth:h;forn:0;nblock:blocks[n];ifnode:this.findNode(this.root,block.w,block.h))) block.fit = this.splitNode(node,block.w,block.h);elseblockfit:this.growDown(block.w,block.h)},findNode:function(root,w,h){elseifw:root.w) &&(h <= root.h)) return root},splitNode:function(node,w,h){nodeused:true;nodedown:{x:node.x,y:node.y+h,w:node.w,h:node.h - h};node.right ={x:node.x+w,y:node.y,w:node.w - w,h:h},growDown:function(w,h){thisroot:{used:true,x:0,y:0,w:this.root.w,h:this.root.h+h,down:{x:0,y:this.root.h,w:this.root.w,h:h};$.fn.filterizr = function(){varself:this,args = arguments}